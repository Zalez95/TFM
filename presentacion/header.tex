% Idioma y codificación en castellano
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, spanish, es-tabla]{babel}

% Bibliografía
\usepackage{biblatex}
\addbibresource{bib/bibliografia.bib}

\usepackage{fontspec}
\usepackage{unicode-math}
\usepackage{lmodern}
\usepackage{setspace}
\usepackage{graphicx}
\usepackage{csquotes}
\graphicspath{{img/}}

%% Couleurs
\definecolor{comments}{rgb}{0.5,0.55,0.6} % commentaires
\definecolor{link}{rgb}{0,0.4,0.6}   % liens internes
\definecolor{url}{rgb}{0.6,0,0}      % liens externes
\definecolor{rouge}{rgb}{0.9,0,0.1}  % bandeau rouge UL
\definecolor{or}{rgb}{1,0.8,0}       % bandeau or UL

%% Hyperliens
\hypersetup{
    colorlinks = false,
    linktocpage = true,
    urlcolor = {url},
    linkcolor = {link},
    citecolor = {citation},
    pdfpagemode = {UseOutlines},
    pdfstartview = {Fit}}

%%% =========================
%%%  Nouveaux environnements
%%% =========================

%% Environnements pour les demo de code; tirés du document
%% principal. (L'environnement 'eqxample' ajoute des filets de part
%% et d'autre du bloc pour illustrer les marges.)
\newenvironment{demo}{%
    \begin{beamercolorbox}[wd=\linewidth,sep=6pt]{block body example}}
    {\end{beamercolorbox}}

\newenvironment{texample}[1][0.45\linewidth]{%
    \noindent\begin{minipage}{#1}%
    \def\producing{\end{minipage}\hfill\begin{minipage}{\dimexpr0.9\linewidth-#1}%
        \hbox\bgroup\kern-.2pt%
        \vbox\bgroup\parindent0pt\relax
        % The 3pt is to cancel the -\lineskip from \displ@y
        \abovedisplayskip3pt \abovedisplayshortskip\abovedisplayskip
        \belowdisplayskip0pt \belowdisplayshortskip\belowdisplayskip
        \noindent}
    }{%
        \par
        % Ensure that a lonely \[\] structure doesn't take up width less than
        % \hsize.
        \hrule height0pt width\hsize
        \egroup\kern-.2pt\egroup
        \end{minipage}%
        \par
    }

\newenvironment{eqxample}{%
    \noindent\begin{minipage}{.45\linewidth}%
    \def\producing{\end{minipage}\hfill\begin{minipage}{.45\linewidth}%
        \hbox\bgroup\kern-.2pt\vrule width.2pt%
        \vbox\bgroup\parindent0pt\relax
        % The 3pt is to cancel the -\lineskip from \displ@y
        \abovedisplayskip3pt \abovedisplayshortskip\abovedisplayskip
        \belowdisplayskip0pt \belowdisplayshortskip\belowdisplayskip
        \noindent}
    }{%
        \par
        % Ensure that a lonely \[\] structure doesn't take up width less than
        % \hsize.
        \hrule height0pt width\hsize
        \egroup\vrule width.2pt\kern-.2pt\egroup
        \end{minipage}%
        \par
  }

%% Simplfication de l'environnement 'quote' de beamer
\renewenvironment{quote}{%
    \begin{beamercolorbox}[wd=\linewidth,sep=6pt]{block body example}}
    {\end{beamercolorbox}}

%% Exercices
\newenvironment{exercice}{%
    \begin{frame}[fragile=singleslide]
    \frametitle{\faCogs\; Exercice}}{\end{frame}}
  
%%% =======
%%%  Varia
%%% =======

%% Longueurs pour la composition des pages couvertures avant et
%% arrière.
\newlength{\banderougewidth} \newlength{\banderougeheight}
\newlength{\bandeorwidth}    \newlength{\bandeorheight}
\newlength{\imageheight}
\newlength{\logoheight}

\mode<presentation> {
    \usetheme{ulaval}
    \setbeamercovered{transparent}
    \setbeamertemplate{navigation symbols}{}
}

\newenvironment{xframe}[2][]
    {\begin{frame}[fragile,environment=xframe,#1]
    \font
    \frametitle{#2}}
    {\end{frame}}

\AtBeginSection[]{
    \begin{frame}
    \Huge \centerline{\insertsection}
    \small \tableofcontents[currentsection, hideothersubsections]
    \end{frame}
}

\setcounter{tocdepth}{2}
\newcommand{\acc}[1]{\textcolor{ulred}{\textbf{#1}}}
